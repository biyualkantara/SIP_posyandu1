import{r as L,x as D,y as F,f as K,z as N,h as u,s as f,i as _,v as w,a as s,F as V,A as B,t as j,o as n,p as O,c as C,w as r,q as A,m as t,b as i,B as c,C as U,e as g}from"./app-ByxJOON1.js";import{T as R,a as E,b as H,_ as m}from"./TableRow-DmXfeYrN.js";import{_ as S}from"./Layout.vue_vue_type_script_setup_true_lang-DnnDCS8a.js";/* empty css                                                                     */import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={key:0,class:"dropdown"},z=["onClick"],I={__name:"Autocomplete",props:{modelValue:String,items:Array,label:{type:Function,required:!0},searchBy:{type:Function,required:!0},valueBy:{type:Function,required:!0}},emits:["update:modelValue"],setup(h,{emit:$}){const e=h,T=$,v=L(!1),k=L(e.modelValue||"");D(()=>e.modelValue,o=>{const p=e.items.find(b=>e.valueBy(b)===o);k.value=p?e.label(p):""});const y=F(()=>{if(!k.value)return e.items;const o=k.value.toLowerCase();return e.items.filter(p=>e.searchBy(p).toLowerCase().includes(o))}),a=o=>{const p=e.label(o);k.value=p,T("update:modelValue",e.valueBy(o)),v.value=!1},l=L(null),d=o=>{l.value.contains(o.target)||(v.value=!1)};return K(()=>document.addEventListener("click",d)),N(()=>document.removeEventListener("click",d)),(o,p)=>(n(),u("div",{class:"w-full",ref_key:"root",ref:l,style:{position:"relative"}},[f(s("input",{type:"text",class:"form-control w-full","onUpdate:modelValue":p[0]||(p[0]=b=>k.value=b),onFocus:p[1]||(p[1]=b=>v.value=!0),onInput:p[2]||(p[2]=b=>v.value=!0)},null,544),[[w,k.value]]),v.value&&y.value.length>0?(n(),u("div",M,[(n(!0),u(V,null,B(y.value,(b,P)=>(n(),u("div",{key:P,onClick:wa=>a(b),class:"px-3 py-2 hover:bg-gray-200 cursor-pointer"},j(e.label(b)),9,z))),128))])):_("",!0)],512))}},G=q(I,[["__scopeId","data-v-e48f893f"]]),J={class:"mt-3 p-4 bg-white",style:{position:"relative","min-height":"100vh"}},x={class:"row"},Q={class:"col-lg-6"},W=["value"],X={key:0,class:"help-block"},Y={class:"row mt-4"},Z={class:"col-lg-6"},aa=["disabled"],ea=["value"],sa={key:0,class:"help-block"},la={class:"row mt-4"},ta={class:"col-lg-6"},oa=["disabled"],na=["value"],ra={key:0,class:"help-block"},ua=["onUpdate:modelValue"],ia={key:0,class:"help-block"},da={key:0,class:"help-block"},ma=["onUpdate:modelValue"],pa={key:0,class:"help-block"},_a=["onUpdate:modelValue"],ca={key:0,class:"help-block"},fa=["onUpdate:modelValue"],ka={key:0,class:"help-block"},ya=["onUpdate:modelValue"],ba={key:0,class:"help-block"},ga=["onUpdate:modelValue"],va={key:0,class:"help-block"},ha=["onClick"],Ta={__name:"AddBiodata",props:{kecamatan:Array,kelurahan:Object,posyandu:Object,wuspus:Object},setup(h){const $=()=>({tanggal_daftar:"",id_wuspus:"",nama_bayi:"",jenis_kelamin:"L",tanggal_lahir:"",bbl:"",keterangan:""}),e=O({kecamatan_id:null,kelurahan_id:null,posyandu_id:null,rows:[$()]});function T(){e.rows.push($())}function v(y){e.rows.length<=1||e.rows.splice(y,1)}K(()=>{window.addEventListener("beforeunload",k)}),N(()=>{window.removeEventListener("beforeunload",k)});function k(y){y.preventDefault(),y.returnValue=""}return(y,a)=>(n(),C(S,null,{default:r(()=>[s("div",J,[a[21]||(a[21]=s("h1",null,"Data Register Bayi",-1)),a[22]||(a[22]=s("hr",null,null,-1)),a[23]||(a[23]=s("h2",null,"Register Bayi",-1)),s("form",{onSubmit:a[3]||(a[3]=A(l=>t(e).post("/admin/data_bayi/biodata"),["prevent"]))},[s("div",x,[s("div",Q,[s("div",{class:c(["form-group",{"has-error":t(e).errors.kecamatan_id}])},[a[5]||(a[5]=s("label",{for:"kecamatan"},"Kecamatan",-1)),f(s("select",{name:"kecamatan",id:"kecamatan","onUpdate:modelValue":a[0]||(a[0]=l=>t(e).kecamatan_id=l),class:"form-control"},[a[4]||(a[4]=s("option",{value:null,selected:!0},"-- Pilih Kecamatan --",-1)),(n(!0),u(V,null,B(h.kecamatan,l=>(n(),u("option",{value:l.id_kec,key:l.id_kec},j(l.nama_kec),9,W))),128))],512),[[U,t(e).kecamatan_id]]),t(e).errors.kecamatan_id?(n(),u("span",X,"Kecamatan wajib diisi")):_("",!0)],2)])]),s("div",Y,[s("div",Z,[s("div",{class:c(["form-group",{"has-error":t(e).errors.kelurahan_id}])},[a[7]||(a[7]=s("label",{for:"kelurahan"},"Kelurahan",-1)),f(s("select",{name:"kelurahan",id:"kelurahan","onUpdate:modelValue":a[1]||(a[1]=l=>t(e).kelurahan_id=l),class:"form-control",disabled:!t(e).kecamatan_id},[a[6]||(a[6]=s("option",{value:null,selected:!0},"-- Pilih Kelurahan --",-1)),(n(!0),u(V,null,B(h.kelurahan[t(e).kecamatan_id],l=>(n(),u("option",{value:l.id_kel,key:l.id_kel},j(l.nama_kel),9,ea))),128))],8,aa),[[U,t(e).kelurahan_id]]),t(e).errors.kelurahan_id?(n(),u("span",sa,"Kelurahan wajib diisi")):_("",!0)],2)])]),s("div",la,[s("div",ta,[s("div",{class:c(["form-group",{"has-error":t(e).errors.posyandu_id}])},[a[9]||(a[9]=s("label",{for:"posyandu"},"Posyandu",-1)),f(s("select",{name:"posyandu",id:"posyandu","onUpdate:modelValue":a[2]||(a[2]=l=>t(e).posyandu_id=l),class:"form-control",disabled:!t(e).kecamatan_id||!t(e).kelurahan_id},[a[8]||(a[8]=s("option",{value:null,selected:!0},"-- Pilih Posyandu --",-1)),(n(!0),u(V,null,B(h.posyandu[t(e).kelurahan_id],l=>(n(),u("option",{value:l.id_posyandu,key:l.id_posyandu},j(l.nama_posyandu),9,na))),128))],8,oa),[[U,t(e).posyandu_id]]),t(e).errors.posyandu_id?(n(),u("span",ra,"Posyandu wajib diisi")):_("",!0)],2)])]),i(R,{class:"mt-4",style:{"min-height":"200px"}},{default:r(()=>[i(E,null,{default:r(()=>[i(H,null,{default:r(()=>[i(m,{asHead:""},{default:r(()=>[...a[10]||(a[10]=[g("Tanggal Daftar",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[11]||(a[11]=[g("Nama Orang Tua",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[12]||(a[12]=[g("Nama Bayi",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[13]||(a[13]=[g("Jenis Kelamin",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[14]||(a[14]=[g("Tanggal Lahir",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[15]||(a[15]=[g("BBL (Gram)",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[16]||(a[16]=[g("Keterangan",-1)])]),_:1}),i(m,{asHead:""},{default:r(()=>[...a[17]||(a[17]=[g("Hapus?",-1)])]),_:1})]),_:1}),(n(!0),u(V,null,B(t(e).rows,(l,d)=>(n(),C(H,{key:d},{default:r(()=>[i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.tanggal_daftar`]}])},[f(s("input",{type:"date",class:"form-control",name:"tanggal_daftar","onUpdate:modelValue":o=>l.tanggal_daftar=o},null,8,ua),[[w,l.tanggal_daftar]]),t(e).errors[`rows.${d}.tanggal_daftar`]?(n(),u("span",ia,"Tanggal Daftar wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.id_wuspus`]}])},[i(G,{modelValue:l.id_wuspus,"onUpdate:modelValue":o=>l.id_wuspus=o,items:h.wuspus[t(e).posyandu_id],label:o=>o.nama_wuspus+" & "+o.nama_suami,searchBy:o=>o.nama_wuspus+" "+o.nama_suami,valueBy:o=>o.id_wuspus},null,8,["modelValue","onUpdate:modelValue","items","label","searchBy","valueBy"]),t(e).errors[`rows.${d}.id_wuspus`]?(n(),u("span",da,"Nama Orang Tua wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.nama_bayi`]}])},[f(s("input",{type:"text",class:"form-control",name:"nama_bayi","onUpdate:modelValue":o=>l.nama_bayi=o},null,8,ma),[[w,l.nama_bayi]]),t(e).errors[`rows.${d}.nama_bayi`]?(n(),u("span",pa,"Nama Bayi wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.jenis_kelamin`]}])},[f(s("select",{name:"jenis_kelamin",id:"jenis_kelamin",class:"form-control","onUpdate:modelValue":o=>l.jenis_kelamin=o},[...a[18]||(a[18]=[s("option",{value:"L"},"L",-1),s("option",{value:"P"},"P",-1)])],8,_a),[[U,l.jenis_kelamin]]),t(e).errors[`rows.${d}.jenis_kelamin`]?(n(),u("span",ca,"Nama Orang Tua wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.tanggal_lahir`]}])},[f(s("input",{type:"date",class:"form-control","onUpdate:modelValue":o=>l.tanggal_lahir=o,name:"tanggal_lahir"},null,8,fa),[[w,l.tanggal_lahir]]),t(e).errors[`rows.${d}.tanggal_lahir`]?(n(),u("span",ka,"Tanggal Lahir wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.bbl`]}])},[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>l.bbl=o,name:"bbl"},null,8,ya),[[w,l.bbl]]),t(e).errors[`rows.${d}.bbl`]?(n(),u("span",ba,"Berat wajib diisi")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("div",{class:c(["form-group",{"has-error":t(e).errors[`rows.${d}.keterangan`]}])},[f(s("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>l.keterangan=o,name:"keterangan"},null,8,ga),[[w,l.keterangan]]),t(e).errors[`rows.${d}.keterangan`]?(n(),u("span",va,"Keterangan tidak dapat diterima")):_("",!0)],2)]),_:2},1024),i(m,null,{default:r(()=>[s("span",{class:"bg-primary p-3",style:{"border-radius":"1000px"},onClick:o=>v(d)},[...a[19]||(a[19]=[s("i",{class:"icon-trash"},null,-1)])],8,ha)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s("button",{type:"button",class:"btn btn-success mt-5",style:{float:"right"},onClick:T},"Tambah Baris +"),a[20]||(a[20]=s("button",{type:"submit",class:"btn btn-primary mt-5"},"Simpan Data",-1))],32)])]),_:1}))}};export{Ta as default};
